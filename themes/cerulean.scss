@use "baseStyles.scss";
@use "./utilities/functions.scss" as fn;
@use "./utilities/initial-variables.scss" as iv;
@use "./utilities/mixins.scss" as mx;

// Set your brand colors
$purple: #8a4d76;
$pink: #ff0000;
$brown: #757763;
$beige-light: #d0d1cd;
$beige-lighter: #eff0eb;
$white: #fff;

$navbar-breakpoint: iv.$desktop !default;

////////////////////////////////////////////////
// CERULEAN
////////////////////////////////////////////////
$orange: #dd5600;
$yellow: #dab424;
$green: #73a839;
$turquoise: #5bc0de;
$blue: #033c73;
$purple: #7e5ea3;
$red: #c71c22;
$grey: #dbdbdb;
$grey-dark: #999999;

$primary: #2fa4e7 !default;
$primary-dark: #317eac;
$warning: $orange;
$info: #d8dce0;
$success: $green;
$danger: $red;
$light: #fff;
$dark: #333;
$text: transparent;
$link: $blue;

// $info-invert: #333;
// $orange-invert: #fff;
// $warning-invert: $orange-invert;

// $family-sans-serif: "Helvetica Neue", Helvetica, Arial, sans-serif;

// $title-color: $primary-dark;
// $title-weight: 500;
// $title-weight-bold: 700;

// $subtitle-weight: 300;
// $subtitle-strong-color: 500;

// $box-shadow: 0 0 0 1px $grey;

// $control-height: 2.375em;

// Lists and maps
$custom-colors: null !default;
$custom-shades: null !default;
$new-colors: fn.mergeColorMaps(
  (
    "white": (
      iv.$white,
      iv.$black,
    ),
    "black": (
      iv.$black,
      iv.$white,
    ),
    "light": (
      $light,
      $dark,
    ),
    "dark": (
      $dark,
      $light,
    ),
    "text": (
      $text,
      $dark,
    ),
    "primary": (
      $primary,
      $light,
    ),
    "link": (
      $link,
      $light,
    ),
    "info": (
      $info,
      $dark,
    ),
    "success": (
      $success,
      $light,
    ),
    "warning": (
      $warning,
      $light,
    ),
    "danger": (
      $danger,
      $light,
    ),
  ),
  $custom-colors
);

// Path to Bulma's sass folder
@use "bulma/sass" with (
  $primary: $primary,
  $danger: $red,
  $button-weight: 400,
  $colors: $new-colors
);

// Import the Google Font
@import url("https://fonts.googleapis.com/css?family=Nunito:400,700");

// Overrides
@mixin btn-gradient($color) {
  background-image: linear-gradient(
    180deg,
    lighten($color, 8%) 0%,
    $color 60%,
    darken($color, 4%) 100%
  );
}

.button {
  @each $name, $pair in $new-colors {
    $color: nth($pair, 1);
    $color-invert: nth($pair, 2);

    &.is-#{$name} {
      &:not(.is-outlined):not(.is-inverted) {
        @include btn-gradient($color);
      }
    }
  }
}

.navbar:not(.is-transparent) {
  @include btn-gradient($primary);
  .navbar-item,
  .navbar-link {
    color: $white;
    &.has-dropdown:hover .navbar-link,
    &:hover {
      background-color: rgba(#000, 0.05);
    }
    &.is-active,
    &:active {
      background-color: rgba(#000, 0.1);
    }
  }
  .navbar-burger:hover {
    background-color: rgba(#000, 0.05);
  }
  .navbar-link::after {
    border-color: $white;
  }
  @include mx.until($navbar-breakpoint) {
    .navbar-menu {
      background-color: $primary;
      @include btn-gradient($primary);
    }
  }
  @include mx.from($navbar-breakpoint) {
    .navbar-dropdown .navbar-item {
      color: $grey-dark;
    }
  }
  .navbar-burger {
    span {
      background-color: $white;
    }
  }
  @each $name, $pair in $new-colors {
    $color: nth($pair, 1);
    $color-invert: nth($pair, 2);
    &.is-#{$name} {
      @include btn-gradient($color);
      @include mx.until($navbar-breakpoint) {
        .navbar-menu {
          background-color: $color;
          @include btn-gradient($color);
        }
        .navbar-item,
        .navbar-link {
          color: $color-invert;
          &.is-active,
          &:hover {
            background-color: darken($color, 2);
            color: $color-invert;
          }
          &:after {
            border-color: $color-invert;
          }
        }
      }
      .navbar-burger {
        span {
          background-color: $color-invert;
        }
      }
    }
  }
}
